<html>
  <head>
    <style>
      #customers {
        font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
        border-collapse: collapse;
        width: 100%;
      }

      #customers td,
      #customers th {
        border: 1px solid #ddd;
        padding: 8px;
      }

      #customers tr:nth-child(even) {
        background-color: #f2f2f2;
      }

      #customers tr:hover {
        background-color: #ddd;
      }

      #customers th {
        padding-top: 12px;
        padding-bottom: 12px;
        text-align: left;
        background-color: #4caf50;
        color: white;
      }
    </style>
  </head>

  <body>
        <a href="#" onclick="return xepOnline.Formatter.Format('print');">
                print pdf
            </a>
   
    <div id="print">
      <div class="white-back row" style="padding: 1.5rem;" id="tvgMainCnt">
        <div id="top-content">
          <div>
            <div>
              <img id="gambar"
                src="https://miro.medium.com/max/1198/1*n-Q2XBz6CFC1MgMpdab4xQ.jpeg"
                style="height: 100px;"
              />
            </div>
          </div>
          <div style="margin-top: 1rem;">
            <p style="color:green">
              Dear members,
            </p>
          </div>
          <div>
            Added some fake text: Please ignore this is test text, Please ignore
            this is test text, Please ignore this is test text.
          </div>
          <br />
          <table id="customers" class="table table-striped" width="100%">
            <thead width="100%" width="100%">
              <tr class="warning">
                <th>No.</th>
                <th>Country</th>
                <th>Population</th>
                <th>Date</th>
                <th>Age</th>
              </tr>
            </thead>
            <tbody width="100%">
              <tr>
                <td>1</td>
                <td>Chinna</td>
                <td>1,363,480,000 000 000</td>
                <td>March 24, 2014</td>
                <td>19.1</td>
              </tr>
              <tr>
                <td>2</td>
                <td>India</td>
                <td>1,241,900,000</td>
                <td>March 24, 2014</td>
                <td>17.4</td>
              </tr>
              <tr>
                <td>3</td>
                <td>United States</td>
                <td>317,746,000</td>
                <td>March 24, 2014</td>
                <td>4.44</td>
              </tr>
              <tr>
                <td>4</td>
                <td>Indonesia</td>
                <td>249,866,000</td>
                <td>July 1, 2013</td>
                <td>3.49</td>
              </tr>
              <tr>
                <td>5</td>
                <td>Brazil</td>
                <td>201,032,714</td>
                <td>July 1, 2013</td>
                <td>2.81</td>
              </tr>
              <tr>
                <td>1</td>
                <td>Chinna</td>
                <td>1,363,480,000 000 000</td>
                <td>March 24, 2014</td>
                <td>19.1</td>
              </tr>
              <tr>
                <td>2</td>
                <td>India</td>
                <td>1,241,900,000</td>
                <td>March 24, 2014</td>
                <td>17.4</td>
              </tr>
              <tr>
                <td>3</td>
                <td>United States</td>
                <td>317,746,000</td>
                <td>March 24, 2014</td>
                <td>4.44</td>
              </tr>
              <tr>
                <td>4</td>
                <td>Indonesia</td>
                <td>249,866,000</td>
                <td>July 1, 2013</td>
                <td>3.49</td>
              </tr>
              <tr>
                <td>5</td>
                <td>Brazil</td>
                <td>201,032,714</td>
                <td>July 1, 2013</td>
                <td>2.81</td>
              </tr>
              <tr>
                <td>1</td>
                <td>Chinna</td>
                <td>1,363,480,000 000 000</td>
                <td>March 24, 2014</td>
                <td>19.1</td>
              </tr>
              <tr>
                <td>2</td>
                <td>India</td>
                <td>1,241,900,000</td>
                <td>March 24, 2014</td>
                <td>17.4</td>
              </tr>
              <tr>
                <td>3</td>
                <td>United States</td>
                <td>317,746,000</td>
                <td>March 24, 2014</td>
                <td>4.44</td>
              </tr>
              <tr>
                <td>4</td>
                <td>Indonesia</td>
                <td>249,866,000</td>
                <td>July 1, 2013</td>
                <td>3.49</td>
              </tr>
              <tr>
                <td>5</td>
                <td>Brazil</td>
                <td>201,032,714</td>
                <td>July 1, 2013</td>
                <td>2.81</td>
              </tr>
              <tr>
                <td>1</td>
                <td>Chinna</td>
                <td>1,363,480,000 000 000</td>
                <td>March 24, 2014</td>
                <td>19.1</td>
              </tr>
              <tr>
                <td>2</td>
                <td>India</td>
                <td>1,241,900,000</td>
                <td>March 24, 2014</td>
                <td>17.4</td>
              </tr>
              <tr>
                <td>3</td>
                <td>United States</td>
                <td>317,746,000</td>
                <td>March 24, 2014</td>
                <td>4.44</td>
              </tr>
              <tr>
                <td>4</td>
                <td>Indonesia</td>
                <td>249,866,000</td>
                <td>July 1, 2013</td>
                <td>3.49</td>
              </tr>
              <tr>
                <td>5</td>
                <td>Brazil</td>
                <td>201,032,714</td>
                <td>July 1, 2013</td>
                <td>2.81</td>
              </tr>
              <tr>
                <td>1</td>
                <td>Chinna</td>
                <td>1,363,480,000 000 000</td>
                <td>March 24, 2014</td>
                <td>19.1</td>
              </tr>
              <tr>
                <td>2</td>
                <td>India</td>
                <td>1,241,900,000</td>
                <td>March 24, 2014</td>
                <td>17.4</td>
              </tr>
              <tr>
                <td>3</td>
                <td>United States</td>
                <td>317,746,000</td>
                <td>March 24, 2014</td>
                <td>4.44</td>
              </tr>
              <tr>
                <td>4</td>
                <td>Indonesia</td>
                <td>249,866,000</td>
                <td>July 1, 2013</td>
                <td>3.49</td>
              </tr>
              <tr>
                <td>5</td>
                <td>Brazil</td>
                <td>201,032,714</td>
                <td>July 1, 2013</td>
                <td>2.81</td>
              </tr>
              <tr>
                <td>1</td>
                <td>Chinna</td>
                <td>1,363,480,000 000 000</td>
                <td>March 24, 2014</td>
                <td>19.1</td>
              </tr>
              <tr>
                <td>2</td>
                <td>India</td>
                <td>1,241,900,000</td>
                <td>March 24, 2014</td>
                <td>17.4</td>
              </tr>
              <tr>
                <td>3</td>
                <td>United States</td>
                <td>317,746,000</td>
                <td>March 24, 2014</td>
                <td>4.44</td>
              </tr>
              <tr>
                <td>4</td>
                <td>Indonesia</td>
                <td>249,866,000</td>
                <td>July 1, 2013</td>
                <td>3.49</td>
              </tr>
              <tr>
                <td>5</td>
                <td>Brazil</td>
                <td>201,032,714</td>
                <td>July 1, 2013</td>
                <td>2.81</td>
              </tr>
            </tbody>
          </table>
          <div style="margin-top: 1rem;">
            <p>
              Download of chart with html content should work on all browser but
              not working in Microsoft edge.
            </p>
          </div>
        </div>

        <div id="testchart"></div>
      </div>
      <div id="bottom-content">
        <p>
          Thanks for looking into this issue, struggling to fix this for last 2
          days.. UPDATE: Finally able to fix it. Cheers!!
        </p>
      </div>
    </div>
</div>
  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <!-- Required to convert named colors to RGB -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/canvg/1.4/rgbcolor.min.js"></script>

  <!-- Optional if you want blur -->
  <script src="https://cdn.jsdelivr.net/npm/stackblur-canvas@^1/dist/stackblur.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/canvg/dist/browser/canvg.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highcharts/5.0.7/highcharts.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.2.61/jspdf.debug.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>

  <script src="xepOnline.jqPlugin.js"></script>
  <script>
    var options = {
//      render: "download", // force to download fix for IE
      embedLocalImages: "true", // enable images in PDF
//      filename: "testPdf" // filename changed
    };
    //xepOnline.Formatter.Format("print", options); //content is div container


    var img = new Image();
        img.crossOrigin = "Anonymous";
    
        // If you are loading images from a remote server, be sure to configure “Access-Control-Allow-Origin”
        // For example, the following image can be loaded from anywhere.
        var url = "https://miro.medium.com/max/1198/1*n-Q2XBz6CFC1MgMpdab4xQ.jpeg";
        img.src = url;
    
        // The magic begins after the image is successfully loaded
        img.onload = function() {
          var canvas = document.createElement("canvas"),
            ctx = canvas.getContext("2d");
    
          canvas.height = img.naturalHeight;
          canvas.width = img.naturalWidth;
          ctx.drawImage(img, 0, 0);
    
          // Unfortunately, we cannot keep the original image type, so all images will be converted to PNG
          // For this reason, we cannot get the original Base64 string
          var uri = canvas.toDataURL("image/png"),
            b64 = uri.replace(/^data:image.+;base64,/, "");
    
          //console.log(b64); //-> "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWP4z8DwHwAFAAH/q842iQAAAABJRU5ErkJggg=="
          var con64 = "data:image/png;base64,"+b64;

         // console.log(con64);
        $("#gambar").attr(
         "src", con64
        );
          
        };

        

  </script>

</html>
